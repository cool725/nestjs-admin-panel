<div class="user-edit--banner">
  <div class="container">
    <h1>Benutzer erstellen</h1>
  </div>
</div>

<div class="container">
  <div *ngIf="user$ | async as user">
    <div class="card mt-3">
      <form id="setting-form-user">
        <div class="row p-2">
          <div class="col-md-6 col-12 mt-2">
            <div class="form-group">
              <label>Vorname</label>
              <input
                #firstName="ngModel"
                [(ngModel)]="user.firstName"
                name="firstName"
                class="form-control"
                required
              />
              <div
                [hidden]="firstName.valid || firstName.pristine"
                class="alert alert-danger"
              >
                Name is required
              </div>
            </div>
          </div>

          <div class="col-md-6 col-12 mt-2">
            <div class="form-group">
              <label>Nachname</label>
              <input
                #lastName="ngModel"
                [(ngModel)]="user.lastName"
                name="lastName"
                class="form-control"
              />
              <div
                [hidden]="lastName.valid || lastName.pristine"
                class="alert alert-danger"
              >
                Name is required
              </div>
            </div>
          </div>

          <div class="col-md-6 col-12 mt-2">
            <div class="form-group">
              <label>Email</label>
              <input
                #email="ngModel"
                autocomplete="new-password"
                (change)="isValid('email', user)"
                [(ngModel)]="user.email"
                name="email"
                type="email"
                class="form-control"
                required
              />
              <div
                [hidden]="email.valid || email.pristine"
                class="alert alert-danger"
              >
                Email is required
              </div>
            </div>
          </div>

          <div class="col-md-6 col-12 mt-2">
            <div class="form-group">
              <label>Telefon</label>
              <input
                #phone="ngModel"
                [(ngModel)]="user.phone"
                name="phone"
                type="phone"
                class="form-control"
              />
              <div
                [hidden]="phone.valid || phone.pristine"
                class="alert alert-danger"
              >
                Phone is required
              </div>
            </div>
          </div>

          <div class="col-md-6 col-12 mt-2">
            <div class="form-group">
              <label>Geburstag</label>
              <input
                #birthDate="ngModel"
                [(ngModel)]="user.birthDay"
                name="birthDate"
                type="date"
                class="form-control"
              />
            </div>
          </div>
        </div>
      </form>
      <div class="card-footer">
        <a
          *ngIf="
            phone.valid && email.valid && firstName.valid && lastName.valid
          "
          class="btn btn-success text-white"
          (click)="doSave(user)"
        >
          Speichern
        </a>
        <a class="btn btn-default" (click)="navBack()"> Abbrechen </a>
      </div>
    </div>
  </div>
</div>
